{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api';\nconst KEY = '43475278-2a58784aecd56e70c750f20e8';\n\nexport async function searchFormImg(search) {\n  const response = await fetch(\n    `${BASE_URL}/?key=${KEY}&q=${search}&image_type=photo&orientation=horizontal&safesearch=true`\n  );\n  if (!response.ok) {\n    throw new Error(res.statusText);\n  }\n  const data = await response.json();\n  return data.hits;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function showLoader(loaderContainer) {\n  loaderContainer.style.display = 'block';\n}\n\nexport function hideLoader(loaderContainer) {\n  loaderContainer.style.display = 'none';\n}\n\nexport function createMarkup({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"240\" />\n    <ul class=\"property-list\">\n      <li class=\"property-item\">\n        <p class=\"property-title\">Likes</p>\n        <p class=\"property-value\">${likes}</p>\n      </li>\n      <li class=\"property-item\">\n        <p class=\"property-title\">Views</p>\n        <p class=\"property-value\">${views}</p>\n      </li>\n      <li class=\"property-item\">\n        <p class=\"property-title\">Comments</p>\n        <p class=\"property-value\">${comments}</p>\n      </li>\n      <li class=\"property-item\">\n        <p class=\"property-title\">Downloads</p>\n        <p class=\"property-value\">${downloads}</p>\n      </li>\n    </ul>  \n  </a>\n</li>\n\n  `;\n}\n\nexport function clearImagesGallery(ulGroup) {\n  ulGroup.innerHTML = '';\n}\n\nexport function searchError() {\n  iziToast.error({\n    title: 'Error',\n    message:\n      'Sorry, there was an error processing your request. Please try again later.',\n    position: 'topRight',\n  });\n}\n\nexport function initializeLightbox() {\n  return new SimpleLightbox('.gallery-item a', {\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n  });\n}\n","import { searchFormImg } from './js/pixabay-api.js';\nimport {\n  showLoader,\n  hideLoader,\n  createMarkup,\n  clearImagesGallery,\n  searchError,\n  initializeLightbox,\n} from './js/render-functions.js';\n\nconst loaderContainer = document.querySelector('.loader-container');\nconst form = document.getElementById('form');\nconst ulGroup = document.querySelector('.ul-group');\n\nform.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n  showLoader(loaderContainer);\n\n  const inputForm = form.elements.img.value.trim();\n\n  searchFormImg(inputForm)\n    .then(images => {\n      if (images.length === 0) {\n        clearImagesGallery(ulGroup);\n        searchError();\n      } else {\n        renderImages(images);\n      }\n    })\n    .catch(error => {\n      console.error(error);\n      searchError();\n    })\n    .finally(() => {\n      hideLoader(loaderContainer);\n      form.reset();\n    });\n}\n\nfunction renderImages(images) {\n  clearImagesGallery(ulGroup);\n  images.forEach(image => {\n    const markup = createMarkup(image);\n    ulGroup.insertAdjacentHTML('beforeend', markup);\n  });\n  const lightbox = initializeLightbox();\n  lightbox.refresh();\n}\n"],"names":["BASE_URL","KEY","searchFormImg","search","response","showLoader","loaderContainer","hideLoader","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearImagesGallery","ulGroup","searchError","iziToast","initializeLightbox","SimpleLightbox","form","handleSearch","event","inputForm","images","renderImages","error","image","markup"],"mappings":"6vBAAA,MAAMA,EAAW,0BACXC,EAAM,qCAEL,eAAeC,EAAcC,EAAQ,CAC1C,MAAMC,EAAW,MAAM,MACrB,GAAGJ,CAAQ,SAASC,CAAG,MAAME,CAAM,0DACvC,EACE,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,IAAI,UAAU,EAGhC,OADa,MAAMA,EAAS,QAChB,IACd,CCNO,SAASC,EAAWC,EAAiB,CAC1CA,EAAgB,MAAM,QAAU,OAClC,CAEO,SAASC,EAAWD,EAAiB,CAC1CA,EAAgB,MAAM,QAAU,MAClC,CAEO,SAASE,EAAa,CAC3B,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,kCAEyBL,CAAa;AAAA,sCACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,oCAI5BC,CAAK;AAAA;AAAA;AAAA;AAAA,oCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,oCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,oCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAO7C,CAEO,SAASC,EAAmBC,EAAS,CAC1CA,EAAQ,UAAY,EACtB,CAEO,SAASC,GAAc,CAC5BC,EAAS,MAAM,CACb,MAAO,QACP,QACE,6EACF,SAAU,UACd,CAAG,CACH,CAEO,SAASC,GAAqB,CACnC,OAAO,IAAIC,EAAe,kBAAmB,CAC3C,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAG,CACH,CC5DA,MAAMf,EAAkB,SAAS,cAAc,mBAAmB,EAC5DgB,EAAO,SAAS,eAAe,MAAM,EACrCL,EAAU,SAAS,cAAc,WAAW,EAElDK,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBnB,EAAWC,CAAe,EAE1B,MAAMmB,EAAYH,EAAK,SAAS,IAAI,MAAM,OAE1CpB,EAAcuB,CAAS,EACpB,KAAKC,GAAU,CACVA,EAAO,SAAW,GACpBV,EAAmBC,CAAO,EAC1BC,KAEAS,EAAaD,CAAM,CAE3B,CAAK,EACA,MAAME,GAAS,CACd,QAAQ,MAAMA,CAAK,EACnBV,GACN,CAAK,EACA,QAAQ,IAAM,CACbX,EAAWD,CAAe,EAC1BgB,EAAK,MAAK,CAChB,CAAK,CACL,CAEA,SAASK,EAAaD,EAAQ,CAC5BV,EAAmBC,CAAO,EAC1BS,EAAO,QAAQG,GAAS,CACtB,MAAMC,EAAStB,EAAaqB,CAAK,EACjCZ,EAAQ,mBAAmB,YAAaa,CAAM,CAClD,CAAG,EACgBV,IACR,QAAO,CAClB"}